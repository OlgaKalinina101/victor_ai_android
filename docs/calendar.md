–≠—Ç–æ—Ç —Ñ–∞–π–ª —è–≤–ª—è–µ—Ç—Å—è —á–∞—Å—Ç—å—é –ø—Ä–æ–µ–∫—Ç–∞ Victor AI

–ü—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π GNU Affero General Public License v3.0 (AGPL-3.0).

–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –ª–∏—Ü–µ–Ω–∑–∏–∏: https://www.gnu.org/licenses/agpl-3.0.html  
–ü–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç: **[LICENSE.txt](../LICENSE.txt)** –≤ –∫–æ—Ä–Ω–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è.

Copyright ¬© 2026 Olga Kalinina

---

## –≠–∫—Ä–∞–Ω "–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ" (Calendar)

> –ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π —ç–∫—Ä–∞–Ω –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è–º–∏, –±—É–¥–∏–ª—å–Ω–∏–∫–∞–º–∏ –∏ –≤—ã–±–æ—Ä–æ–º –º—É–∑—ã–∫–∏ –¥–ª—è –ø—Ä–æ–±—É–∂–¥–µ–Ω–∏—è

–≠–∫—Ä–∞–Ω "–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ" –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç —Ç—Ä–∏ –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–∏:
1. **–ö–∞–ª–µ–Ω–¥–∞—Ä—å —Å –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è–º–∏** - –ø—Ä–æ—Å–º–æ—Ç—Ä —Ä–∞–∑–æ–≤—ã—Ö –∏ –ø–æ—Å—Ç–æ—è–Ω–Ω—ã—Ö –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π
2. **–ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –±—É–¥–∏–ª—å–Ω–∏–∫–∏** - –¥–æ 3-—Ö —Å–ª–æ—Ç–æ–≤ —Å —Ä–∞–∑–Ω—ã–º–∏ —Ä–µ–∂–∏–º–∞–º–∏ –ø–æ–≤—Ç–æ—Ä–∞
3. **–í—ã–±–æ—Ä –º—É–∑—ã–∫–∏ –¥–ª—è –±—É–¥–∏–ª—å–Ω–∏–∫–∞** - –≤—Ä—É—á–Ω—É—é –∏–ª–∏ —á–µ—Ä–µ–∑ AI –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∏–∞–ª–æ–≥–æ–≤ –∏ –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏–π

### API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã:

#### –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è:
- **GET `/reminders`** - –ø–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  - –†–∞–∑–æ–≤—ã–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º–∏ –¥–∞—Ç–∞–º–∏
  - –ü–æ—Å—Ç–æ—è–Ω–Ω—ã–µ –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è (`repeat_weekly = true`)

- **POST `/reminders/done`** - –æ—Ç–º–µ—Ç–∏—Ç—å –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –∫–∞–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–æ–µ
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∏–∑ `ReminderOverlay.kt` –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ "–ì–æ—Ç–æ–≤–æ"

- **POST `/reminders/delay`** - –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –Ω–∞ 1 —á–∞—Å
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∏–∑ `ReminderOverlay.kt` –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ "–ü–æ–∑–∂–µ"

- **POST `/reminders/repeat-weekly`** - –≤–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ–µ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ
  - –ü–∞—Ä–∞–º–µ—Ç—Ä `repeat_weekly: boolean`
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–º–∏ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è–º–∏

#### –ë—É–¥–∏–ª—å–Ω–∏–∫–∏:
- **POST `/alarms`** - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±—É–¥–∏–ª—å–Ω–∏–∫–æ–≤
  - –û—Ç–ø—Ä–∞–≤–∫–∞ –º–∞—Å—Å–∏–≤–∞ –∏–∑ 3-—Ö —Å–ª–æ—Ç–æ–≤ —Å –≤—Ä–µ–º–µ–Ω–µ–º –∏ —Ä–µ–∂–∏–º–æ–º –ø–æ–≤—Ç–æ—Ä–∞

- **GET `/alarms/{account_id}`** - –ø–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–∏—Ö –±—É–¥–∏–ª—å–Ω–∏–∫–æ–≤

- **POST `/alarms/select_track`** - –≤—ã–±–æ—Ä —Ç—Ä–µ–∫–∞ –≤—Ä—É—á–Ω—É—é
  - –ü–∞—Ä–∞–º–µ—Ç—Ä `track_id: int`

- **POST `/alarms/select_track_for_yourself`** - AI –≤—ã–±–∏—Ä–∞–µ—Ç —Ç—Ä–µ–∫
  - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç `track_id` –ø–æ–¥–æ–±—Ä–∞–Ω–Ω–æ–≥–æ —Ç—Ä–µ–∫–∞

---

## üì∏ UI

<table>
  <tr>
    <td align="center"><img src="example/calendar_1.jpg" width="300" /><br><sub>–ö–∞–ª–µ–Ω–¥–∞—Ä—å —Å –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è–º–∏</sub></td>
    <td align="center"><img src="example/calendar_2.jpg" width="300" /><br><sub>–ü–æ—Å—Ç–æ—è–Ω–Ω—ã–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è</sub></td>
    <td align="center"><img src="example/calendar_3.gif" width="300" /><br><sub>–ë—É–¥–∏–ª—å–Ω–∏–∫–∏ –∏ –≤—ã–±–æ—Ä —Ç—Ä–µ–∫–∞</sub></td>
  </tr>
</table>

---

# üìÖ –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## üìë –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ
1. [–û–±–∑–æ—Ä](#-–æ–±–∑–æ—Ä)
2. [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤](#-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-—Ñ–∞–π–ª–æ–≤)
3. [–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã UI](#-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã-ui)
4. [Data Flow](#-data-flow)
5. [CalendarViewModel](#-calendarviewmodel)
6. [–†–∞–±–æ—Ç–∞ —Å –±—É–¥–∏–ª—å–Ω–∏–∫–∞–º–∏](#-—Ä–∞–±–æ—Ç–∞-—Å-–±—É–¥–∏–ª—å–Ω–∏–∫–∞–º–∏)
7. [–†–∞–±–æ—Ç–∞ —Å –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è–º–∏](#-—Ä–∞–±–æ—Ç–∞-—Å-–Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è–º–∏)
8. [–í—ã–±–æ—Ä —Ç—Ä–µ–∫–∞ –¥–ª—è –±—É–¥–∏–ª—å–Ω–∏–∫–∞](#-–≤—ã–±–æ—Ä-—Ç—Ä–µ–∫–∞-–¥–ª—è-–±—É–¥–∏–ª—å–Ω–∏–∫–∞)
9. [–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏](#-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏)
10. [–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫](#-–æ–±—Ä–∞–±–æ—Ç–∫–∞-–æ—à–∏–±–æ–∫)
11. [–î–∏–∞–≥—Ä–∞–º–º–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–π](#-–¥–∏–∞–≥—Ä–∞–º–º–∞-—Å–æ—Å—Ç–æ—è–Ω–∏–π)
12. [–°–≤—è–∑—å —Å –¥—Ä—É–≥–∏–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏](#-—Å–≤—è–∑—å-—Å-–¥—Ä—É–≥–∏–º–∏-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏)
13. [–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫](#Ô∏è-—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π-—Å—Ç–µ–∫)
14. [Best Practices](#-best-practices)
15. [–ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è](#-–±—É–¥—É—â–∏–µ-—É–ª—É—á—à–µ–Ω–∏—è)
16. [–°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã](#-—Å–≤—è–∑–∞–Ω–Ω—ã–µ-–¥–æ–∫—É–º–µ–Ω—Ç—ã)

---

## üéØ –û–±–∑–æ—Ä

–ö–∞–ª–µ–Ω–¥–∞—Ä—å Victor AI ‚Äî —ç—Ç–æ –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–π —ç–∫—Ä–∞–Ω, –æ–±—ä–µ–¥–∏–Ω—è—é—â–∏–π:
- **–ö–∞–ª–µ–Ω–¥–∞—Ä—å –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π** (—Ä–∞–∑–æ–≤—ã–µ –∏ –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–µ)
- **–ë—É–¥–∏–ª—å–Ω–∏–∫–∏** (3 —Å–ª–æ—Ç–∞ —Å —Ä–∞–∑–Ω—ã–º–∏ —Ä–µ–∂–∏–º–∞–º–∏ –ø–æ–≤—Ç–æ—Ä–∞)
- **–í—ã–±–æ—Ä –º—É–∑—ã–∫–∏** –¥–ª—è –±—É–¥–∏–ª—å–Ω–∏–∫–∞ (–≤—Ä—É—á–Ω—É—é –∏–ª–∏ —á–µ—Ä–µ–∑ AI)

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π –ø–æ –¥–∞—Ç–∞–º
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–º–∏ –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–º–∏ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è–º–∏
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–æ 3-—Ö –±—É–¥–∏–ª—å–Ω–∏–∫–æ–≤ (–û–¥–∏–Ω —Ä–∞–∑ / –ë—É–¥–Ω–∏ / –í—ã—Ö–æ–¥–Ω—ã–µ)
- ‚úÖ –í—ã–±–æ—Ä —Ç—Ä–µ–∫–∞ –¥–ª—è –±—É–¥–∏–ª—å–Ω–∏–∫–∞ –≤—Ä—É—á–Ω—É—é –∏–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- ‚úÖ –ü—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏–µ —Ç—Ä–µ–∫–æ–≤ –ø–µ—Ä–µ–¥ –≤—ã–±–æ—Ä–æ–º

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
ui/screens/
‚îú‚îÄ‚îÄ CalendarScreen.kt              # –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω –∏ –∫–æ–º–ø–æ–∑–∏—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (554 —Å—Ç—Ä–æ–∫–∏)
‚îÇ
‚îú‚îÄ‚îÄ calendar/
‚îÇ   ‚îú‚îÄ‚îÄ CalendarViewModel.kt       # ViewModel —Å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–æ–π (400 —Å—Ç—Ä–æ–∫)
‚îÇ   ‚îú‚îÄ‚îÄ CalendarHeader.kt          # –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å –º–µ—Å—è—Ü–µ–º –∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π
‚îÇ   ‚îî‚îÄ‚îÄ CalendarGrid.kt            # –°–µ—Ç–∫–∞ –∫–∞–ª–µ–Ω–¥–∞—Ä—è —Å –¥–Ω—è–º–∏
‚îÇ
‚îú‚îÄ‚îÄ alarm/
‚îÇ   ‚îú‚îÄ‚îÄ AlarmPickerSection.kt      # –°–µ–∫—Ü–∏—è –≤—ã–±–æ—Ä–∞ 3-—Ö –±—É–¥–∏–ª—å–Ω–∏–∫–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ TrackSection.kt            # –°–µ–∫—Ü–∏—è –≤—ã–±–æ—Ä–∞ —Ç—Ä–µ–∫–∞ (—Ä—É—á–Ω–æ–π/AI)
‚îÇ
‚îî‚îÄ‚îÄ reminders/
    ‚îî‚îÄ‚îÄ ReminderList.kt            # –°–ø–∏—Å–æ–∫ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω–æ–π –¥–∞—Ç—ã

ui/alarm/
‚îî‚îÄ‚îÄ AlarmTrackSelectionSheet.kt    # Modal sheet —Å —Å–ø–∏—Å–∫–æ–º —Ç—Ä–µ–∫–æ–≤

data/repository/
‚îú‚îÄ‚îÄ AlarmRepository.kt             # –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –¥–ª—è –±—É–¥–∏–ª—å–Ω–∏–∫–æ–≤ (Room + API)
‚îî‚îÄ‚îÄ ReminderRepository.kt          # –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –¥–ª—è –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π

data/network/
‚îú‚îÄ‚îÄ AlarmsApi.kt                   # API –¥–ª—è –±—É–¥–∏–ª—å–Ω–∏–∫–æ–≤
‚îú‚îÄ‚îÄ ReminderApi.kt                 # API –¥–ª—è –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π
‚îî‚îÄ‚îÄ MusicApi.kt                    # API –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç—Ä–µ–∫–æ–≤

alarm/
‚îú‚îÄ‚îÄ AlarmScheduler.kt              # –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –±—É–¥–∏–ª—å–Ω–∏–∫–æ–≤ —á–µ—Ä–µ–∑ AlarmManager
‚îú‚îÄ‚îÄ AlarmReceiver.kt               # BroadcastReceiver –¥–ª—è —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è
‚îú‚îÄ‚îÄ AlarmTimeCalculator.kt         # –†–∞—Å—á—ë—Ç —Å–ª–µ–¥—É—é—â–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è
‚îî‚îÄ‚îÄ BootReceiver.kt                # –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –±—É–¥–∏–ª—å–Ω–∏–∫–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏
```

---

## üé® –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã UI

### 1. CalendarScreenWithReminders

**–û–±—ë—Ä—Ç–∫–∞** –Ω–∞–¥ –æ—Å–Ω–æ–≤–Ω—ã–º —ç–∫—Ä–∞–Ω–æ–º, –∫–æ—Ç–æ—Ä–∞—è –∑–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π —Å –±—ç–∫–µ–Ω–¥–∞.

```kotlin
@Composable
fun CalendarScreenWithReminders(
    api: suspend () -> Map<String, List<ReminderDto>>,
    viewModel: CalendarViewModel = hiltViewModel()
)
```

**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å:**
- –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π —Å API –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –æ—Ç–∫—Ä—ã—Ç–∏–∏
- –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π –ø–æ –¥–∞—Ç–∞–º
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –ø–æ—Å—Ç–æ—è–Ω–Ω—ã—Ö –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π
- –ü–æ–∫–∞–∑ loading –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞

**–°–æ—Å—Ç–æ—è–Ω–∏—è:**
- `isLoaded = false` ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç `CircularProgressIndicator`
- `isLoaded = true` ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç `CalendarScreen`

---

### 2. CalendarScreen

**–û—Å–Ω–æ–≤–Ω–æ–π —ç–∫—Ä–∞–Ω** –∫–∞–ª–µ–Ω–¥–∞—Ä—è —Å –ø–æ–ª–Ω–æ–π –∫–æ–º–ø–æ–∑–∏—Ü–∏–µ–π UI.

```kotlin
@Composable
fun CalendarScreen(
    reminders: Map<LocalDate, List<CalendarReminder>>,
    recurringReminders: List<Reminder>,
    viewModel: CalendarViewModel
)
```

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —ç–∫—Ä–∞–Ω–∞ (—Å–≤–µ—Ä—Ö—É –≤–Ω–∏–∑):**

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  CalendarHeader                     ‚îÇ  ‚Üê –ú–µ—Å—è—Ü + —Å—Ç—Ä–µ–ª–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  CalendarGrid                       ‚îÇ  ‚Üê –°–µ—Ç–∫–∞ –∫–∞–ª–µ–Ω–¥–∞—Ä—è —Å –¥–∞—Ç–∞–º–∏
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  ReminderList                       ‚îÇ  ‚Üê –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –≤—ã–±—Ä–∞–Ω–Ω–æ–π –¥–∞—Ç—ã (160dp)
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  RecurringRemindersSection          ‚îÇ  ‚Üê –ö–Ω–æ–ø–∫–∞ "–í—Å–µ –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–µ –Ω–∞–ø–æ–º–∏–Ω–∞–ª–∫–∏"
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  AlarmPickerSection                 ‚îÇ  ‚Üê 3 –±—É–¥–∏–ª—å–Ω–∏–∫–∞ —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  TrackSection                       ‚îÇ  ‚Üê –í—ã–±–æ—Ä —Ç—Ä–µ–∫–∞ –¥–ª—è –±—É–¥–∏–ª—å–Ω–∏–∫–∞
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**AudioPlayer:**
- –°–æ–∑–¥–∞–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ —á–µ—Ä–µ–∑ `remember`
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è preview —Ç—Ä–µ–∫–æ–≤ –≤ modal sheet
- –û—á–∏—â–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ `DisposableEffect`

---

### 3. CalendarHeader

**–ó–∞–≥–æ–ª–æ–≤–æ–∫** –∫–∞–ª–µ–Ω–¥–∞—Ä—è —Å –º–µ—Å—è—Ü–µ–º –∏ –∫–Ω–æ–ø–∫–∞–º–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏.

```kotlin
@Composable
fun CalendarHeader(
    currentMonth: LocalDate,
    onMonthChange: (LocalDate) -> Unit
)
```

**–§—É–Ω–∫—Ü–∏–∏:**
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–µ–∫—É—â–∏–π –º–µ—Å—è—Ü –Ω–∞ —Ä—É—Å—Å–∫–æ–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–î–µ–∫–∞–±—Ä—å 2024")
- –ö–Ω–æ–ø–∫–∏ ‚Üê ‚Üí –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –º–µ—Å—è—Ü–µ–≤
- –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ `DateTimeFormatter` (–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ, —Å–æ–∑–¥–∞–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑)

**–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:**
```kotlin
// Top-level –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã - —Å–æ–∑–¥–∞—é—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –º–æ–¥—É–ª—è
private val didactGothic = FontFamily(Font(R.font.didact_gothic))
private val russianLocale = Locale("ru")
private val monthYearFormatter = DateTimeFormatter
    .ofPattern("LLLL yyyy", russianLocale)
    .withLocale(russianLocale)
```

---

### 4. CalendarGrid

**–°–µ—Ç–∫–∞ –∫–∞–ª–µ–Ω–¥–∞—Ä—è** —Å –¥–Ω—è–º–∏ –º–µ—Å—è—Ü–∞ –∏ –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π –¥–∞—Ç —Å –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è–º–∏.

```kotlin
@Composable
fun CalendarGrid(
    year: Int,
    month: Int,
    reminders: Map<LocalDate, List<CalendarReminder>>,
    onDateClick: (LocalDate) -> Unit
)
```

**–õ–æ–≥–∏–∫–∞:**
- –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –ø–µ—Ä–≤—ã–π –¥–µ–Ω—å –º–µ—Å—è—Ü–∞ –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–Ω–µ–π
- –í—ã—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç –ø–æ –¥–Ω—è–º –Ω–µ–¥–µ–ª–∏ (–ü–Ω-–í—Å)
- –ü–æ–¥—Å–≤–µ—á–∏–≤–∞–µ—Ç –¥–∞—Ç—ã —Å –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è–º–∏ (—Å–≤–µ—Ç–ª—ã–π —Ñ–æ–Ω)
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∫–ª–∏–∫–∏ –Ω–∞ –¥–∞—Ç—ã

**–í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞—Ç:**
```kotlin
val date = if (dayOfMonth in 1..daysInMonth) {
    try {
        LocalDate.of(year, month, dayOfMonth)
    } catch (e: DateTimeException) {
        Log.e("CalendarGrid", "Invalid date: $year-$month-$dayOfMonth", e)
        null
    }
} else {
    null
}
```

---

### 5. ReminderList

–°–ø–∏—Å–æ–∫ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω–æ–π –¥–∞—Ç—ã (–º–∞–∫—Å–∏–º—É–º 160dp –≤—ã—Å–æ—Ç—ã, scroll –µ—Å–ª–∏ –Ω–µ –≤–ª–µ–∑–∞–µ—Ç).

---

### 6. RecurringRemindersSection

–ö–Ω–æ–ø–∫–∞ –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ —Å –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–º–∏ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è–º–∏.

**Modal Bottom Sheet:**
- –ì—Ä—É–ø–ø–∏—Ä—É–µ—Ç –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –ø–æ –¥–Ω—è–º –Ω–µ–¥–µ–ª–∏
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Ä–µ–º—è –∏ —Ç–µ–∫—Å—Ç –∫–∞–∂–¥–æ–≥–æ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è
- –ö–Ω–æ–ø–∫–∞ "√ó" –¥–ª—è –æ—Ç–∫–ª—é—á–µ–Ω–∏—è –ø–æ–≤—Ç–æ—Ä–∞ (`repeat_weekly = false`)

---

### 7. AlarmPickerSection

**3 —Å–ª–æ—Ç–∞ –¥–ª—è –±—É–¥–∏–ª—å–Ω–∏–∫–æ–≤** —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  [07:00 ‚ñº]  [–û–¥–∏–Ω —Ä–∞–∑ ‚ñº]   ‚îÇ  ‚Üê –ë—É–¥–∏–ª—å–Ω–∏–∫ 1
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  [08:00 ‚ñº]  [–ë—É–¥–Ω–∏ ‚ñº]      ‚îÇ  ‚Üê –ë—É–¥–∏–ª—å–Ω–∏–∫ 2
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  [09:00 ‚ñº]  [–í—ã—Ö–æ–¥–Ω—ã–µ ‚ñº]   ‚îÇ  ‚Üê –ë—É–¥–∏–ª—å–Ω–∏–∫ 3
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**Dropdowns:**
- –í—Ä–µ–º—è: 00:00 - 23:30 —Å —à–∞–≥–æ–º 30 –º–∏–Ω—É—Ç
- –†–µ–∂–∏–º: "–û–¥–∏–Ω —Ä–∞–∑", "–ë—É–¥–Ω–∏", "–í—ã—Ö–æ–¥–Ω—ã–µ"

---

### 8. TrackSection

–°–µ–∫—Ü–∏—è –≤—ã–±–æ—Ä–∞ —Ç—Ä–µ–∫–∞ –¥–ª—è –±—É–¥–∏–ª—å–Ω–∏–∫–∞:
- **"–°–∞–º –≤—ã–±–µ—Ä—É"** ‚Üí –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç modal sheet —Å —Ç—Ä–µ–∫–∞–º–∏
- **"–í—ã–±–µ—Ä–∏ —Å–∞–º–∞"** ‚Üí AI –ø–æ–¥–±–∏—Ä–∞–µ—Ç —Ç—Ä–µ–∫ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (—Å –∞–Ω–∏–º–∞—Ü–∏–µ–π "–¥—É–º–∞—é...")

---

## üîÑ Data Flow

### –°—Ö–µ–º–∞ –ø–æ—Ç–æ–∫–∞ –¥–∞–Ω–Ω—ã—Ö:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Backend API         ‚îÇ
‚îÇ  - –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è       ‚îÇ
‚îÇ  - –ë—É–¥–∏–ª—å–Ω–∏–∫–∏        ‚îÇ
‚îÇ  - –¢—Ä–µ–∫–∏             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ
       ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Repository Layer    ‚îÇ
‚îÇ  - AlarmRepository   ‚îÇ
‚îÇ  - ReminderApi       ‚îÇ
‚îÇ  - MusicApi          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ
       ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  CalendarViewModel   ‚îÇ
‚îÇ  - State —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ  ‚îÇ
‚îÇ  - –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ
       ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  CalendarScreen      ‚îÇ
‚îÇ  - UI –∫–æ–º–ø–æ–∑–∏—Ü–∏—è     ‚îÇ
‚îÇ  - –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –û—Å–Ω–æ–≤–Ω—ã–µ StateFlow:

```kotlin
// –ò–∑ CalendarViewModel
val uiState: StateFlow<CalendarUiState>              // UI —Å–æ—Å—Ç–æ—è–Ω–∏–µ —ç–∫—Ä–∞–Ω–∞
val alarmData: StateFlow<AlarmModelData>            // –î–∞–Ω–Ω—ã–µ –±—É–¥–∏–ª—å–Ω–∏–∫–æ–≤
val selectedTrackId: StateFlow<Int?>                // –í—ã–±—Ä–∞–Ω–Ω—ã–π —Ç—Ä–µ–∫
```

---

## üß† CalendarViewModel

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ UiState:

```kotlin
data class CalendarUiState(
    // Calendar
    val currentMonth: LocalDate = LocalDate.now().withDayOfMonth(1),
    val selectedDate: LocalDate? = null,
    
    // Alarms
    val alarms: List<AlarmUiState> = listOf(
        AlarmUiState(), AlarmUiState(), AlarmUiState()
    ),
    
    // Track Selection
    val showTrackSelectionSheet: Boolean = false,
    val tracks: List<Track> = emptyList(),
    val isLoadingTracks: Boolean = false,
    val currentPlayingTrackId: Int? = null,
    val isPlaying: Boolean = false,
    
    // Recurring Reminders Sheet
    val showRecurringRemindersSheet: Boolean = false,
    
    // Thinking animation
    val showThinking: Boolean = false,
    val typedText: String = "",
    
    // Error handling
    val errorMessage: String? = null
)
```

### –û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã:

#### –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –∫–∞–ª–µ–Ω–¥–∞—Ä—é:
```kotlin
fun selectDate(date: LocalDate)        // –í—ã–±–æ—Ä –¥–∞—Ç—ã
fun changeMonth(newMonth: LocalDate)   // –°–º–µ–Ω–∞ –º–µ—Å—è—Ü–∞
```

#### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±—É–¥–∏–ª—å–Ω–∏–∫–∞–º–∏:
```kotlin
fun updateAlarm(alarmIndex: Int, time: String, repeatMode: String)
fun toggleTimeDropdown(alarmIndex: Int)
fun toggleRepeatDropdown(alarmIndex: Int)
```

#### –í—ã–±–æ—Ä —Ç—Ä–µ–∫–∞:
```kotlin
fun showTrackSelectionSheet()          // –û—Ç–∫—Ä—ã—Ç—å modal sheet
fun selectTrack(trackId: Int?)         // –í—ã–±—Ä–∞—Ç—å —Ç—Ä–µ–∫ –≤—Ä—É—á–Ω—É—é
fun selectTrackAutomatically()         // AI –≤—ã–±–∏—Ä–∞–µ—Ç —Ç—Ä–µ–∫
```

#### –ü–æ—Å—Ç–æ—è–Ω–Ω—ã–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è:
```kotlin
fun showRecurringRemindersSheet()      // –û—Ç–∫—Ä—ã—Ç—å sheet
fun disableReminderRepeat(reminderId: String)  // –û—Ç–∫–ª—é—á–∏—Ç—å –ø–æ–≤—Ç–æ—Ä
```

#### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:
```kotlin
fun clearError()                       // –û—á–∏—Å—Ç–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ
```

---

## ‚è∞ –†–∞–±–æ—Ç–∞ —Å –±—É–¥–∏–ª—å–Ω–∏–∫–∞–º–∏

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:

```
CalendarViewModel
       ‚Üì
AlarmRepository ‚Üí Room Database (AlarmDao)
       ‚Üì             ‚Üì
Backend API      Local Cache (offline-first)
       ‚Üì
AlarmScheduler ‚Üí Android AlarmManager
       ‚Üì
UI (AlarmPickerSection)
```

### –ü—Ä–æ—Ü–µ—Å—Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –±—É–¥–∏–ª—å–Ω–∏–∫–∞:

1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç –≤—Ä–µ–º—è/—Ä–µ–∂–∏–º**
   ```kotlin
   onTimeSelected = { index, time ->
       viewModel.updateAlarm(index, time, currentRepeatMode)
   }
   ```

2. **ViewModel –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞ –±—ç–∫–µ–Ω–¥ –∏ Room**
   ```kotlin
   fun updateAlarm(alarmIndex: Int, time: String, repeatMode: String) {
       viewModelScope.launch {
           try {
               // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤ Room (local)
               alarmRepository.updateAlarmTime(alarmIndex, time)
               alarmRepository.updateAlarmRepeatMode(alarmIndex, repeatMode)
               
               // –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å –±—ç–∫–µ–Ω–¥–æ–º
               alarmRepository.syncAlarmsWithBackend()
               
               // –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ AlarmScheduler
               alarmScheduler.scheduleAlarm(alarmIndex)
           } catch (e: Exception) {
               _uiState.update { it.copy(errorMessage = "–ù–µ —É–¥–∞–ª–æ—Å—å –æ–±–Ω–æ–≤–∏—Ç—å –±—É–¥–∏–ª—å–Ω–∏–∫") }
           }
       }
   }
   ```

3. **Room –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç Flow**
   ```kotlin
   val alarmFlow: Flow<AlarmModelData> = alarmDao.getAllAlarms()
       .map { entities -> entities.toAlarmModelData() }
   ```

4. **UI –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ collectAsState**

### Offline-first –ø–æ–¥—Ö–æ–¥:
- –î–∞–Ω–Ω—ã–µ —Å–Ω–∞—á–∞–ª–∞ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ Room
- –ó–∞—Ç–µ–º —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è —Å –±—ç–∫–µ–Ω–¥–æ–º (–∫–æ–≥–¥–∞ –µ—Å—Ç—å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç)
- UI —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –ª–æ–∫–∞–ª—å–Ω–æ–π –ë–î, –ø–æ—ç—Ç–æ–º—É –≤—Å–µ–≥–¥–∞ –æ—Ç–∑—ã–≤—á–∏–≤

### –†–µ–∂–∏–º—ã –ø–æ–≤—Ç–æ—Ä–∞:

| –†–µ–∂–∏–º | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|
| **–û–¥–∏–Ω —Ä–∞–∑** | –ë—É–¥–∏–ª—å–Ω–∏–∫ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç –æ–¥–∏–Ω —Ä–∞–∑ –∏ –æ—Ç–∫–ª—é—á–∏—Ç—Å—è |
| **–ë—É–¥–Ω–∏** | –ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫ - –ü—è—Ç–Ω–∏—Ü–∞ |
| **–í—ã—Ö–æ–¥–Ω—ã–µ** | –°—É–±–±–æ—Ç–∞ - –í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ |

---

## üìù –†–∞–±–æ—Ç–∞ —Å –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è–º–∏

### –¢–∏–ø—ã –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π:

#### 1. –†–∞–∑–æ–≤—ã–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è
- –ü—Ä–∏–≤—è–∑–∞–Ω—ã –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –¥–∞—Ç–µ
- –ü–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ —Å–≤–µ—Ç–ª—ã–º —Ü–≤–µ—Ç–æ–º
- –ü—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –¥–∞—Ç—É - —Å–ø–∏—Å–æ–∫ –≤ `ReminderList`

#### 2. –ü–æ—Å—Ç–æ—è–Ω–Ω—ã–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è (repeat_weekly)
- –ü–æ–≤—Ç–æ—Ä—è—é—Ç—Å—è –∫–∞–∂–¥—É—é –Ω–µ–¥–µ–ª—é –≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π –¥–µ–Ω—å
- –ù–µ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ (–æ—Ç–¥–µ–ª—å–Ω–∞—è —Å–µ–∫—Ü–∏—è)
- –î–æ—Å—Ç—É–ø–Ω—ã —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫—É "–í—Å–µ –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–µ –Ω–∞–ø–æ–º–∏–Ω–∞–ª–∫–∏"

### –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π:

```kotlin
private fun groupCalendarReminders(
    apiReminders: Map<String, List<ReminderDto>>
): Map<LocalDate, List<CalendarReminder>>
```

**–ü—Ä–æ—Ü–µ—Å—Å:**
1. –ü–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –æ—Ç API –≤ —Ñ–æ—Ä–º–∞—Ç–µ `Map<String, List<ReminderDto>>`
    - –ö–ª—é—á–∏: ISO-–¥–∞—Ç—ã ("2024-12-11") –∏–ª–∏ –¥–Ω–∏ –Ω–µ–¥–µ–ª–∏ ("MONDAY")
2. –ü–∞—Ä—Å–∏—Ç –¥–∞—Ç—ã —á–µ—Ä–µ–∑ `LocalDate.parse(dateStr)`
3. –ò–∑–≤–ª–µ–∫–∞–µ—Ç –≤—Ä–µ–º—è –∏–∑ ISO datetime (—Å —Ç–∞–π–º–∑–æ–Ω–æ–π –∏–ª–∏ –±–µ–∑)
4. –°–æ–∑–¥–∞–µ—Ç `CalendarReminder(text, time)` –¥–ª—è –∫–∞–∂–¥–æ–≥–æ

### –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ:

```kotlin
CalendarGrid(reminders = reminders)
  ‚Üì
–ü–æ–¥—Å–≤–µ—á–∏–≤–∞–µ—Ç –¥–∞—Ç—ã —Å –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è–º–∏
  ‚Üì
–ü—Ä–∏ –∫–ª–∏–∫–µ ‚Üí viewModel.selectDate(date)
  ‚Üì
ReminderList –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç reminders[selectedDate]
```

---

## üéµ –í—ã–±–æ—Ä —Ç—Ä–µ–∫–∞ –¥–ª—è –±—É–¥–∏–ª—å–Ω–∏–∫–∞

### –î–≤–∞ —Å–ø–æ—Å–æ–±–∞ –≤—ã–±–æ—Ä–∞:

#### 1. –í—Ä—É—á–Ω—É—é

**Modal Bottom Sheet** —Å:
- –°–ø–∏—Å–∫–æ–º –≤—Å–µ—Ö —Ç—Ä–µ–∫–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- Play/Pause –∫–Ω–æ–ø–∫–∞–º–∏ –¥–ª—è preview
- –ì–∞–ª–æ—á–∫–æ–π –Ω–∞ –≤—ã–±—Ä–∞–Ω–Ω–æ–º —Ç—Ä–µ–∫–µ

**–ü—Ä–æ—Ü–µ—Å—Å:**
```kotlin
onSelectTrackManually
  ‚Üì
viewModel.showTrackSelectionSheet()
  ‚Üì
–ó–∞–≥—Ä—É–∑–∫–∞ —Ç—Ä–µ–∫–æ–≤ –µ—Å–ª–∏ –ø—É—Å—Ç–æ (loadTracks)
  ‚Üì
AlarmTrackSelectionSheet
  ‚Üì
onSelectTrack(trackId)
  ‚Üì
alarmRepository.selectTrack(trackId)
```

**Preview —Ç—Ä–µ–∫–æ–≤:**
```kotlin
val audioPlayer = remember { AudioPlayer(context) }

onPlayPause = { trackId ->
    if (currentPlayingTrackId == trackId) {
        if (isPlaying) audioPlayer.pause() 
        else audioPlayer.resume()
    } else {
        audioPlayer.playFromUrl(streamUrl)
        viewModel.setCurrentPlayingTrack(trackId)
    }
}
```

#### 2. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ ("–í—ã–±–µ—Ä–∏ —Å–∞–º")

**AI –ø–æ–¥–±–∏—Ä–∞–µ—Ç —Ç—Ä–µ–∫** –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞.

**–ü—Ä–æ—Ü–µ—Å—Å:**
```kotlin
onSelectTrackAutomatically
  ‚Üì
viewModel.selectTrackAutomatically()
  ‚Üì
–ê–Ω–∏–º–∞—Ü–∏—è "–¥—É–º–∞—é..." (–ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å –∑–∞–ø—Ä–æ—Å–æ–º)
  ‚Üì
alarmRepository.selectTrackForYourself()
  ‚Üì
Backend –≤—ã–±–∏—Ä–∞–µ—Ç —Ç—Ä–µ–∫ —á–µ—Ä–µ–∑ AI
  ‚Üì
–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ selectedTrackId
```

**–ê–Ω–∏–º–∞—Ü–∏—è –ø–µ—á–∞—Ç–∏:**
```kotlin
suspend fun animateTyping() {
    val fullText = "> –¥—É–º–∞—é..."
    fullText.forEachIndexed { index, _ ->
        delay(50)
        _uiState.update { it.copy(typedText = fullText.take(index + 1)) }
    }
}
```

**–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ:**
```kotlin
viewModelScope.launch {
    // –ó–∞–ø—É—Å–∫–∞–µ–º –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ
    val animationJob = launch { animateTyping() }
    alarmRepository.selectTrackForYourself()
    animationJob.join()  // –î–æ–∂–∏–¥–∞–µ–º—Å—è –∫–æ–Ω—Ü–∞ –∞–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è UX
}
```

---

## ‚ö° –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### 1. FontFamily –∏ DateTimeFormatter (CalendarHeader)

Top-level –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã
```kotlin
private val didactGothic = FontFamily(Font(R.font.didact_gothic))
private val russianLocale = Locale("ru")
private val monthYearFormatter = DateTimeFormatter
    .ofPattern("LLLL yyyy", russianLocale)
    .withLocale(russianLocale)
```

**–≠—Ñ—Ñ–µ–∫—Ç:**
- ‚úÖ –°–æ–∑–¥–∞–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –º–æ–¥—É–ª—è
- ‚úÖ –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–æ –≤—Å–µ—Ö recomposition
- ‚úÖ –ú–µ–Ω—å—à–µ –∞–ª–ª–æ–∫–∞—Ü–∏–π –ø–∞–º—è—Ç–∏

---

### 2. AudioPlayer cleanup (CalendarScreen)

DisposableEffect
```kotlin
val audioPlayer = remember { AudioPlayer(context.applicationContext) }

DisposableEffect(Unit) {
    onDispose {
        audioPlayer.release()
        Log.d("CalendarScreen", "AudioPlayer released")
    }
}
```

**–≠—Ñ—Ñ–µ–∫—Ç:**
- ‚úÖ AudioPlayer –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—á–∏—â–∞–µ—Ç—Å—è
- ‚úÖ –ù–µ—Ç —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏
- ‚úÖ –ù–µ—Ç –∑–∞–≤–∏—Å–∞–Ω–∏–π –∞—É–¥–∏–æ

---

### 3. StateFlow —Å stateIn (CalendarViewModel)

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü–æ—Å—Ç–æ—è–Ω–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI –¥–∞–∂–µ –∫–æ–≥–¥–∞ —ç–∫—Ä–∞–Ω –Ω–µ –≤–∏–¥–µ–Ω

**–†–µ—à–µ–Ω–∏–µ:** WhileSubscribed —Å —Ç–∞–π–º–∞—É—Ç–æ–º
```kotlin
val alarmData: StateFlow<AlarmModelData> = alarmRepository.alarmFlow
    .stateIn(
        scope = viewModelScope,
        started = SharingStarted.WhileSubscribed(5000),
        initialValue = AlarmModelData(...)
    )
```

**–≠—Ñ—Ñ–µ–∫—Ç:**
- ‚úÖ Flow –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥ –ø–æ—Å–ª–µ –∑–∞–∫—Ä—ã—Ç–∏—è —ç–∫—Ä–∞–Ω–∞
- ‚úÖ –≠–∫–æ–Ω–æ–º–∏—è –±–∞—Ç–∞—Ä–µ–∏
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–æ–∑–æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –≤–æ–∑–≤—Ä–∞—Ç–µ

---

### 4. –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞—Ç (CalendarGrid)

**–ü—Ä–æ–±–ª–µ–º–∞:** –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏–π

**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ + –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
```kotlin
val date = if (dayOfMonth in 1..daysInMonth) {
    try {
        LocalDate.of(year, month, dayOfMonth)
    } catch (e: DateTimeException) {
        Log.e("CalendarGrid", "Invalid date: $year-$month-$dayOfMonth", e)
        null
    }
} else {
    null
}
```

**–≠—Ñ—Ñ–µ–∫—Ç:**
- ‚úÖ –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ (–±–µ–∑ try-catch)
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∞–ª—å–Ω—ã—Ö –æ—à–∏–±–æ–∫
- ‚úÖ –ù–µ —Å–∫—Ä—ã–≤–∞–µ—Ç –±–∞–≥–∏

---

## üêõ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### –°—Ç—Ä–∞—Ç–µ–≥–∏—è:

1. **–í—Å–µ –æ—à–∏–±–∫–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è**
   ```kotlin
   catch (e: Exception) {
       Log.e(TAG, "Error description", e)
       // ...
   }
   ```

2. **UI –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é**
   ```kotlin
   _uiState.update { 
       it.copy(errorMessage = "–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ç—Ä–µ–∫–∏") 
   }
   ```

3. **–ú–µ—Ç–æ–¥ –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ –æ—à–∏–±–∫–∏**
   ```kotlin
   fun clearError() {
       _uiState.update { it.copy(errorMessage = null) }
   }
   ```

### –¢–∏–ø—ã –æ—à–∏–±–æ–∫:

| –û–ø–µ—Ä–∞—Ü–∏—è | –°–æ–æ–±—â–µ–Ω–∏–µ | Handling |
|----------|-----------|----------|
| `loadTracks` | "–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ç—Ä–µ–∫–∏. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É." | –ü–æ–∫–∞–∑–∞—Ç—å –≤ UI |
| `updateAlarm` | "–ù–µ —É–¥–∞–ª–æ—Å—å –æ–±–Ω–æ–≤–∏—Ç—å –±—É–¥–∏–ª—å–Ω–∏–∫" | –ü–æ–∫–∞–∑–∞—Ç—å Snackbar |
| `selectTrack` | "–ù–µ —É–¥–∞–ª–æ—Å—å –≤—ã–±—Ä–∞—Ç—å —Ç—Ä–µ–∫" | –ü–æ–∫–∞–∑–∞—Ç—å Toast |
| `disableReminderRepeat` | "–ù–µ —É–¥–∞–ª–æ—Å—å –æ—Ç–∫–ª—é—á–∏—Ç—å –ø–æ–≤—Ç–æ—Ä –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è" | –ü–æ–∫–∞–∑–∞—Ç—å Snackbar |
| `selectTrackAutomatically` | "–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–¥–æ–±—Ä–∞—Ç—å —Ç—Ä–µ–∫ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏" | –ü–æ–∫–∞–∑–∞—Ç—å –∏ –æ—Ç–∫–∞—Ç–∏—Ç—å –∞–Ω–∏–º–∞—Ü–∏—é |

### –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ UI:

```kotlin
val uiState by viewModel.uiState.collectAsState()

LaunchedEffect(uiState.errorMessage) {
    uiState.errorMessage?.let { message ->
        snackbarHostState.showSnackbar(message)
        viewModel.clearError()
    }
}
```

---

## üìä –î–∏–∞–≥—Ä–∞–º–º–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–π

### –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª —ç–∫—Ä–∞–Ω–∞:

```
[START]
   ‚Üì
Loading reminders (CalendarScreenWithReminders)
   ‚Üì
   ‚îú‚îÄ Success ‚Üí Show CalendarScreen
   ‚îÇ             ‚Üì
   ‚îÇ          Select Date ‚Üí Show reminders
   ‚îÇ             ‚Üì
   ‚îÇ          Configure Alarms
   ‚îÇ             ‚Üì
   ‚îÇ          Select Track (manual/auto)
   ‚îÇ             ‚Üì
   ‚îÇ          [READY]
   ‚îÇ
   ‚îî‚îÄ Error ‚Üí Show error, retry
```

### –°–æ—Å—Ç–æ—è–Ω–∏—è Track Selection:

```
[Initial: tracks = empty, loading = false]
   ‚Üì
Open Sheet ‚Üí loadTracks()
   ‚Üì
[Loading: tracks = empty, loading = true]
   ‚Üì
   ‚îú‚îÄ Success ‚Üí [Loaded: tracks = [...], loading = false]
   ‚îÇ               ‚Üì
   ‚îÇ            Select track ‚Üí Close sheet
   ‚îÇ               ‚Üì
   ‚îÇ            [Track Selected]
   ‚îÇ
   ‚îî‚îÄ Error ‚Üí [Error: tracks = empty, loading = false, error = "..."]
                 ‚Üì
              Retry or Close
```

---

## üîó –°–≤—è–∑—å —Å –¥—Ä—É–≥–∏–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏

### AlarmRepository
- **–•—Ä–∞–Ω–µ–Ω–∏–µ**: Room Database (AlarmDao) –¥–ª—è offline-first
- **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è**: —Å –±—ç–∫–µ–Ω–¥–æ–º —á–µ—Ä–µ–∑ AlarmsApi
- **–†–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å**: –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç Flow –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è UI
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫—ç—à–∏—Ä—É–µ—Ç —Ç—Ä–µ–∫–∏ –¥–ª—è offline –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è

### AlarmScheduler
- –ü–ª–∞–Ω–∏—Ä—É–µ—Ç –±—É–¥–∏–ª—å–Ω–∏–∫–∏ —á–µ—Ä–µ–∑ Android AlarmManager
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç AlarmTimeCalculator –¥–ª—è —Ä–∞—Å—á—ë—Ç–∞ —Å–ª–µ–¥—É—é—â–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–∞–∑–Ω—ã–µ —Ä–µ–∂–∏–º—ã: "–û–¥–∏–Ω —Ä–∞–∑", "–ë—É–¥–Ω–∏", "–í—ã—Ö–æ–¥–Ω—ã–µ"
- –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –±—É–¥–∏–ª—å–Ω–∏–∫–∏ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ (BootReceiver)

### ReminderApi & ReminderRepository
- –ó–∞–≥—Ä—É–∂–∞–µ—Ç –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è —Å –±—ç–∫–µ–Ω–¥–∞
- –£–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–º–∏ –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–º–∏ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è–º–∏
- –û—Ç–º–µ—á–∞–µ—Ç –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –∫–∞–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ
- –ü–µ—Ä–µ–Ω–æ—Å–∏—Ç –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –Ω–∞ —É–∫–∞–∑–∞–Ω–Ω–æ–µ –≤—Ä–µ–º—è

### MusicApi
- –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å–ø–∏—Å–æ–∫ —Ç—Ä–µ–∫–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π)
- –°—Ç—Ä–∏–º–∏—Ç —Ç—Ä–µ–∫–∏ –¥–ª—è preview –∏ –±—É–¥–∏–ª—å–Ω–∏–∫–∞
- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç stream URL –¥–ª—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è

### AudioPlayer
- –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç —Ç—Ä–µ–∫–∏ –¥–ª—è preview –≤ modal sheet
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: play, pause, resume
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ DisposableEffect
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç ExoPlayer –ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º

---

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### UI
- **Jetpack Compose** - —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π UI toolkit
- **Material 3** - –¥–∏–∑–∞–π–Ω-—Å–∏—Å—Ç–µ–º–∞
- **Modal Bottom Sheets** - –¥–ª—è –≤—ã–±–æ—Ä–∞ —Ç—Ä–µ–∫–æ–≤ –∏ –ø–æ—Å—Ç–æ—è–Ω–Ω—ã—Ö –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- **MVVM** - Model-View-ViewModel –ø–∞—Ç—Ç–µ—Ä–Ω
- **Hilt** - Dependency Injection
- **Kotlin Coroutines** - –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å
- **StateFlow** - reactive state management

### –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- **Room Database** - –ª–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –±—É–¥–∏–ª—å–Ω–∏–∫–æ–≤ (offline-first)
- **AlarmDao** - Data Access Object –¥–ª—è CRUD –æ–ø–µ—Ä–∞—Ü–∏–π
- **SharedPreferences** - –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –∫—ç—à–∞ (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)

### –°–∏—Å—Ç–µ–º–∞ –±—É–¥–∏–ª—å–Ω–∏–∫–æ–≤
- **Android AlarmManager** - –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –±—É–¥–∏–ª—å–Ω–∏–∫–æ–≤
- **BroadcastReceiver** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–π
- **WorkManager** - —Ñ–æ–Ω–æ–≤–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –†–∞–±–æ—Ç–∞ —Å –¥–∞–Ω–Ω—ã–º–∏
- **Retrofit + Moshi** - HTTP –∫–ª–∏–µ–Ω—Ç –∏ JSON –ø–∞—Ä—Å–∏–Ω–≥
- **Flow & StateFlow** - —Ä–µ–∞–∫—Ç–∏–≤–Ω—ã–µ –ø–æ—Ç–æ–∫–∏ –¥–∞–Ω–Ω—ã—Ö
- **Repository Pattern** - –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏

### –ê—É–¥–∏–æ
- **ExoPlayer** - –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –º—É–∑—ã–∫–∏
- **AudioPlayer** - –æ–±—ë—Ä—Ç–∫–∞ –Ω–∞–¥ ExoPlayer

---

## üéØ Best Practices

### 1. State Management
- ‚úÖ –û–¥–Ω–æ –º–µ—Å—Ç–æ –∏—Å—Ç–∏–Ω—ã (Single Source of Truth) - CalendarViewModel
- ‚úÖ Immutable state —á–µ—Ä–µ–∑ `data class` –∏ `copy()`
- ‚úÖ StateFlow –¥–ª—è —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- ‚úÖ Room Database –¥–ª—è –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è

### 2. Composable Functions
- ‚úÖ –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –º–µ–ª–∫–∏–µ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- ‚úÖ Preview —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
- ‚úÖ Hoisting state –≤–≤–µ—Ä—Ö –ø–æ –∏–µ—Ä–∞—Ä—Ö–∏–∏
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ remember –¥–ª—è —Ç—è–∂–µ–ª—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

### 3. Error Handling
- ‚úÖ –í—Å–µ –æ—à–∏–±–∫–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º
- ‚úÖ UI –∏–Ω—Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ –ø—Ä–æ–±–ª–µ–º–∞—Ö
- ‚úÖ Graceful degradation (fallback –∑–Ω–∞—á–µ–Ω–∏—è)
- ‚úÖ Offline-first –ø–æ–¥—Ö–æ–¥ –¥–ª—è –±—É–¥–∏–ª—å–Ω–∏–∫–æ–≤

### 4. Performance
- ‚úÖ Top-level –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –¥–ª—è —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤
- ‚úÖ remember –¥–ª—è —Ç—è–∂–µ–ª—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- ‚úÖ DisposableEffect –¥–ª—è cleanup —Ä–µ—Å—É—Ä—Å–æ–≤
- ‚úÖ SharingStarted.WhileSubscribed –¥–ª—è StateFlow
- ‚úÖ Room –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è

### 5. Code Organization
- ‚úÖ –õ–æ–≥–∏—á–µ—Å–∫–∞—è –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –º–µ—Ç–æ–¥–æ–≤ –≤ ViewModel
- ‚úÖ Private helper —Ñ—É–Ω–∫—Ü–∏–∏ –≤ CalendarScreen.kt
- ‚úÖ –ü–æ–Ω—è—Ç–Ω—ã–µ –∏–º–µ–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏ –º–µ—Ç–æ–¥–æ–≤
- ‚úÖ –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ —Å–ª–æ–∏: UI ‚Üí ViewModel ‚Üí Repository ‚Üí API/DAO

---

## üöÄ –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

- [ ] –î–æ–±–∞–≤–∏—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –ø—Ä—è–º–æ –∏–∑ –∫–∞–ª–µ–Ω–¥–∞—Ä—è
- [ ] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –∑–≤—É–∫–æ–≤ –¥–ª—è –±—É–¥–∏–ª—å–Ω–∏–∫–æ–≤
- [ ] –ì—Ä–∞–¥–∏–µ–Ω—Ç–Ω–æ–µ –ø—Ä–æ–±—É–∂–¥–µ–Ω–∏–µ (–ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ–µ —É–≤–µ–ª–∏—á–µ–Ω–∏–µ –≥—Ä–æ–º–∫–æ—Å—Ç–∏)
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Google Calendar –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Å–æ–±—ã—Ç–∏–π
- [ ] –£–º–Ω—ã–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è
- [ ] –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–Ω–∞ –∏ –∞–Ω–∞–ª–∏–∑ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –ø—Ä–æ–±—É–∂–¥–µ–Ω–∏—è
- [ ] –í–∏–¥–∂–µ—Ç –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ –±—É–¥–∏–ª—å–Ω–∏–∫–∞–º

---

## üìö –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- [places.md](places.md) - –≠–∫—Ä–∞–Ω "–ú–µ—Å—Ç–∞" —Å –∏–≥—Ä–æ–≤–æ–π –∫–∞—Ä—Ç–æ–π
- [playlist.md](playlist.md) - –≠–∫—Ä–∞–Ω "–ü–ª–µ–π–ª–∏—Å—Ç" —Å –º—É–∑—ã–∫–æ–π
- [README.md](README.md) - –û–±–∑–æ—Ä –≤—Å–µ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
